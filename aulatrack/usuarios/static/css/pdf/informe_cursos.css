/* ===== Config de página ===== */
@page {
  size: A4;
  margin: 18mm 14mm 18mm 14mm;
  @top-left {
    content: "AulaTrack · " string(doc-title);
    color: #6b21a8;
    font-size: 10pt;
  }
  @bottom-right {
    content: "Página " counter(page) " de " counter(pages);
    color: #6b7280;
    font-size: 9pt;
  }
}
@page portada {
  @top-left { content: ""; }
  @bottom-right { content: ""; }
  margin: 28mm 18mm 24mm 18mm;
}

html { font-family: "DejaVu Sans", Arial, Helvetica, sans-serif; }
body { color: #0f172a; font-size: 11pt; }

/* Vincula el título de portada al header del resto de páginas */
.cover-title { string-set: doc-title content(); }

/* ===== Portada ===== */
.cover { page: portada; display: block; height: 100%; padding-top: 120px; }
.cover-title {
  font-size: 28pt; font-weight: 900; color: #6b21a8; letter-spacing: .3px; margin: 0 0 8px 0;
}
.cover-sub { font-size: 13pt; color: #374151; margin: 0 0 18px 0; }
.cover-meta { font-size: 10pt; color: #6b7280; }
.rule { height: 2px; background: linear-gradient(90deg,#6b21a8,#9333ea,#6d28d9); border: 0; margin: 16px 0 0; }

/* ===== Secciones ===== */
.section { page-break-inside: avoid; margin: 14px 0 14px; }
.h1 { font-size: 16pt; font-weight: 800; color: #6b21a8; margin: 0 0 6px; }
.h2 { font-size: 13pt; font-weight: 800; color: #111827; margin: 10px 0 6px; }
.muted { color: #6b7280; }

/* ===== KPIs ===== */
.kpis { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; margin: 8px 0 12px; }
.kpi { border: 1px solid #e5e7eb; border-radius: 10px; padding: 10px 12px; background: #fafafa; }
.kpi .k { font-size: 10pt; color: #6b7280; margin-bottom: 2px; }
.kpi .v { font-size: 15pt; font-weight: 900; color: #111827; }

/* ===== Listas ===== */
.list { margin: 6px 0; padding-left: 16px; }
.list li { margin: 2px 0; }

/* ===== Tablas ===== */
table { width: 100%; border-collapse: collapse; }
thead { display: table-header-group; } /* repetir cabecera en cada página */
th, td { padding: 6px 8px; border-bottom: 1px solid #e5e7eb; vertical-align: top; }
th {
  text-transform: uppercase; font-size: 9pt; letter-spacing: .02em;
  color: #6b7280; background: #f8fafc; text-align: left;
}
tr:nth-child(even) td { background: #fcfcff; }
.right { text-align: right; }
.nowrap { white-space: nowrap; }
.wrap { white-space: normal; }

/* ===== Chips ===== */
.chips { display: inline; }
.chip {
  display: inline-block; border: 1px solid #e5e7eb; border-radius: 9999px;
  padding: 2px 6px; font-size: 9pt; margin: 1px 2px; background: #f8fafc; color: #111827;
}

/* ===== Badges ===== */
.badge { display: inline-block; padding: 1px 6px; border-radius: 999px; font-size: 9pt; border: 1px solid #e5e7eb; }
.soft { background: #eef2ff; color: #3730a3; border-color: #e0e7ff; }
.warn { background: #fff7ed; color: #9a3412; border-color: #fed7aa; }

/* ===== Evitar cortes feos ===== */
tr, td, th, .kpi, .list li { page-break-inside: avoid; }
