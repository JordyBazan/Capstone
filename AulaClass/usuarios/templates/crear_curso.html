{% extends "base.html" %}
{% load static %}
{% block title %}Crear curso{% endblock %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/crear_curso.css' %}">
{% endblock %}

{% block content %}
<div class="page">
  <h1>Crear Curso</h1>
  <div class="hint">Ingresa los datos base del curso</div>

  {# Muestra errores no-campo (como duplicado) #}
  {% if form.non_field_errors %}
    <div class="alert error">
      {{ form.non_field_errors }}
    </div>
  {% endif %}

  <form method="post" class="form-card">
    {% csrf_token %}
    {#  Campo oculto para mantener el origen (home o cursos_lista) #}
    <input type="hidden" name="from" value="{{ origen }}">

    <div class="grid">
      <div class="field">
        <label class="label" for="{{ form.a単o.id_for_label }}">A単o</label>
        {{ form.a単o }}
        {{ form.a単o.errors }}
      </div>

      <div class="field">
        <label class="label" for="{{ form.nombre.id_for_label }}">Nombre</label>
        {{ form.nombre }}
        {{ form.nombre.errors }}
      </div>

      <div class="field">
        <label class="label" for="{{ form.profesor_jefe.id_for_label }}">Profesor Jefe</label>
        {{ form.profesor_jefe }}
        {{ form.profesor_jefe.errors }}
      </div>

      <div class="field full">
        <label class="label" for="{{ form.sala.id_for_label }}">Sala</label>
        {{ form.sala }}
        {{ form.sala.errors }}
      </div>
    </div>

    <div class="actions">
      <button class="btn primary" type="submit">Guardar</button>

      {#  Si viene del home, volver al home; si no, volver a page=1 #}
      {% if origen == 'home' %}
        <a class="btn" href="{% url 'usuarios:home_page' %}">Cancelar</a>
      {% else %}
        <a class="btn" href="{% url 'usuarios:cursos_lista' %}?page=1">Cancelar</a>
      {% endif %}
    </div>
  </form>
</div>
{% endblock %}
